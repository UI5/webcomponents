<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>UI5 Menu API Samples</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <script type="importmap">
      {
        "imports": {
          "@ui5/webcomponents/": "https://cdn.jsdelivr.net/npm/@ui5/webcomponents@2.15.0-rc.0/",
          "@ui5/webcomponents-ai/": "https://cdn.jsdelivr.net/npm/@ui5/webcomponents-ai@2.15.0-rc.0/",
          "@ui5/webcomponents-fiori/": "https://cdn.jsdelivr.net/npm/@ui5/webcomponents-fiori@2.15.0-rc.0/",
          "@ui5/webcomponents-compat/": "https://cdn.jsdelivr.net/npm/@ui5/webcomponents-compat@2.15.0-rc.0/",
          "@ui5/webcomponents-base/jsx-runtime": "https://cdn.jsdelivr.net/npm/@ui5/webcomponents-base@2.15.0-rc.0/dist/jsx-runtime.js",
          "@ui5/webcomponents-base/": "https://cdn.jsdelivr.net/npm/@ui5/webcomponents-base@2.15.0-rc.0/",
          "@ui5/webcomponents-icons/": "https://cdn.jsdelivr.net/npm/@ui5/webcomponents-icons@2.15.0-rc.0/",
          "@ui5/webcomponents-localization/": "https://cdn.jsdelivr.net/npm/@ui5/webcomponents-localization@2.15.0-rc.0/",
          "@ui5/webcomponents-theming/": "https://cdn.jsdelivr.net/npm/@ui5/webcomponents-theming@2.15.0-rc.0/",
          "lit-html": "https://cdn.jsdelivr.net/npm/lit-html@2",
          "lit-html/": "https://cdn.jsdelivr.net/npm/lit-html@2/",
          "@zxing/library/": "https://cdn.jsdelivr.net/npm/@zxing/library@0/"
        }
      }
    </script>
    
    <script type="module">
        import "@ui5/webcomponents/dist/Menu.js";
        import "@ui5/webcomponents/dist/MenuItem.js";
        import "@ui5/webcomponents/dist/MenuSeparator.js";
        import "@ui5/webcomponents/dist/Button.js";
        import "@ui5/webcomponents/dist/Label.js";
        import "@ui5/webcomponents-icons/dist/save.js";
        import "@ui5/webcomponents-icons/dist/print.js";
        import "@ui5/webcomponents-icons/dist/copy.js";
        import "@ui5/webcomponents-icons/dist/paste.js";
        import "@ui5/webcomponents-icons/dist/add.js";
    </script>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <!-- Custom CSS for API-specific styling -->
    <style>
        .api-section {
            border-left-width: 3px;
        }
        
        .api-section.blue-accent {
            border-left-color: #0d6efd;
        }
        
        .test-instruction {
            font-size: 0.75rem;
            color: darkred;
            font-weight: 500;
        }
    </style>
</head>
<body>
    <main role="main" aria-label="Menu API test samples">
        <div class="container-fluid py-4">
            <h1 class="display-5 text-dark mb-4">UI5 Menu Component API Samples</h1>

            <div class="card border-start api-section blue-accent mb-4">
                <div class="card-body">
                    <h2 class="h6 fw-bold mb-3">HeaderText Property API</h2>
                    <div class="text-muted fst-italic mb-3">Using headerText property to define header text displayed on mobile</div>
                    <div class="bg-light rounded p-3">
                        <div class="d-flex flex-wrap gap-3 align-items-center" data-cy-acc-container-id="a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6">
                            <ui5-button id="menuBtn1">File Menu</ui5-button>
                            <ui5-menu id="menu1" header-text="File Operations">
                                <ui5-menu-item text="New Document"></ui5-menu-item>
                                <ui5-menu-item text="Open"></ui5-menu-item>
                                <ui5-menu-item text="Save" icon="save"></ui5-menu-item>
                                <ui5-menu-separator></ui5-menu-separator>
                                <ui5-menu-item text="Exit"></ui5-menu-item>
                            </ui5-menu>
                            
                            <ui5-button id="menuBtn2">Edit Menu</ui5-button>
                            <ui5-menu id="menu2" header-text="Edit Operations">
                                <ui5-menu-item text="Copy" icon="copy"></ui5-menu-item>
                                <ui5-menu-item text="Paste" icon="paste"></ui5-menu-item>
                                <ui5-menu-item text="Find"></ui5-menu-item>
                            </ui5-menu>
                        </div>
                        <div class="test-instruction">Test instructions: Click buttons to open menus and view header text (especially on mobile)</div>
                    </div>
                </div>
            </div>

            <div class="card border-start api-section blue-accent mb-4">
                <div class="card-body">
                    <h2 class="h6 fw-bold mb-3">Open Property API</h2>
                    <div class="text-muted fst-italic mb-3">Using open property to programmatically control menu visibility</div>
                    <div class="bg-light rounded p-3">
                        <div class="d-flex flex-wrap gap-3 align-items-center" data-cy-acc-container-id="b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7">
                            <ui5-button id="toggleBtn">Toggle Menu</ui5-button>
                            <ui5-button id="openBtn">Open Menu</ui5-button>
                            <ui5-button id="closeBtn">Close Menu</ui5-button>
                            <ui5-menu id="menu3" opener="toggleBtn">
                                <ui5-menu-item text="Action 1"></ui5-menu-item>
                                <ui5-menu-item text="Action 2"></ui5-menu-item>
                                <ui5-menu-item text="Action 3"></ui5-menu-item>
                            </ui5-menu>
                            <ui5-label id="openStatus">Menu Status: Closed</ui5-label>
                        </div>
                        <div class="test-instruction">Test instructions: Use buttons to control menu open state programmatically</div>
                    </div>
                </div>
            </div>

            <div class="card border-start api-section blue-accent mb-4">
                <div class="card-body">
                    <h2 class="h6 fw-bold mb-3">Placement Property API</h2>
                    <div class="text-muted fst-italic mb-3">Using placement property to control menu positioning relative to opener</div>
                    <div class="bg-light rounded p-3">
                        <div class="d-flex flex-wrap gap-3 align-items-center" data-cy-acc-container-id="c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8">
                            <ui5-button id="bottomBtn">Bottom Placement</ui5-button>
                            <ui5-menu id="bottomMenu" placement="Bottom" opener="bottomBtn">
                                <ui5-menu-item text="Option 1"></ui5-menu-item>
                                <ui5-menu-item text="Option 2"></ui5-menu-item>
                            </ui5-menu>
                            
                            <ui5-button id="topBtn">Top Placement</ui5-button>
                            <ui5-menu id="topMenu" placement="Top" opener="topBtn">
                                <ui5-menu-item text="Option A"></ui5-menu-item>
                                <ui5-menu-item text="Option B"></ui5-menu-item>
                            </ui5-menu>
                            
                            <ui5-button id="rightBtn">Right Placement</ui5-button>
                            <ui5-menu id="rightMenu" placement="Right" opener="rightBtn">
                                <ui5-menu-item text="Option X"></ui5-menu-item>
                                <ui5-menu-item text="Option Y"></ui5-menu-item>
                            </ui5-menu>
                        </div>
                        <div class="test-instruction">Test instructions: Click buttons to see different menu placements</div>
                    </div>
                </div>
            </div>

            <div class="card border-start api-section blue-accent mb-4">
                <div class="card-body">
                    <h2 class="h6 fw-bold mb-3">HorizontalAlign Property API</h2>
                    <div class="text-muted fst-italic mb-3">Using horizontalAlign property to control horizontal alignment relative to opener</div>
                    <div class="bg-light rounded p-3">
                        <div class="d-flex flex-wrap gap-3 align-items-center" data-cy-acc-container-id="d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9">
                            <ui5-button id="startBtn">Start Align</ui5-button>
                            <ui5-menu id="startMenu" horizontal-align="Start" opener="startBtn">
                                <ui5-menu-item text="Start aligned item 1"></ui5-menu-item>
                                <ui5-menu-item text="Start aligned item 2"></ui5-menu-item>
                            </ui5-menu>
                            
                            <ui5-button id="centerBtn">Center Align</ui5-button>
                            <ui5-menu id="centerMenu" horizontal-align="Center" opener="centerBtn">
                                <ui5-menu-item text="Center aligned item 1"></ui5-menu-item>
                                <ui5-menu-item text="Center aligned item 2"></ui5-menu-item>
                            </ui5-menu>
                            
                            <ui5-button id="endBtn">End Align</ui5-button>
                            <ui5-menu id="endMenu" horizontal-align="End" opener="endBtn">
                                <ui5-menu-item text="End aligned item 1"></ui5-menu-item>
                                <ui5-menu-item text="End aligned item 2"></ui5-menu-item>
                            </ui5-menu>
                        </div>
                        <div class="test-instruction">Test instructions: Click buttons to observe different horizontal alignments</div>
                    </div>
                </div>
            </div>

            <div class="card border-start api-section blue-accent mb-4">
                <div class="card-body">
                    <h2 class="h6 fw-bold mb-3">Loading Property API</h2>
                    <div class="text-muted fst-italic mb-3">Using loading property to display loading indicator inside menu popover</div>
                    <div class="bg-light rounded p-3">
                        <div class="d-flex flex-wrap gap-3 align-items-center" data-cy-acc-container-id="e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0">
                            <ui5-button id="loadingBtn">Loading Menu</ui5-button>
                            <ui5-menu id="loadingMenu" loading opener="loadingBtn">
                                <ui5-menu-item text="Loading item 1"></ui5-menu-item>
                                <ui5-menu-item text="Loading item 2"></ui5-menu-item>
                            </ui5-menu>
                            
                            <ui5-button id="toggleLoadingBtn">Toggle Loading</ui5-button>
                        </div>
                        <div class="test-instruction">Test instructions: Click to open menu with loading indicator, use toggle to switch loading state</div>
                    </div>
                </div>
            </div>

            <div class="card border-start api-section blue-accent mb-4">
                <div class="card-body">
                    <h2 class="h6 fw-bold mb-3">LoadingDelay Property API</h2>
                    <div class="text-muted fst-italic mb-3">Using loadingDelay property to control delay before loading indicator appears</div>
                    <div class="bg-light rounded p-3">
                        <div class="d-flex flex-wrap gap-3 align-items-center" data-cy-acc-container-id="f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1">
                            <ui5-button id="fastLoadingBtn">Fast Loading (500ms)</ui5-button>
                            <ui5-menu id="fastLoadingMenu" loading loading-delay="500" opener="fastLoadingBtn">
                                <ui5-menu-item text="Fast loading item"></ui5-menu-item>
                            </ui5-menu>
                            
                            <ui5-button id="slowLoadingBtn">Slow Loading (2000ms)</ui5-button>
                            <ui5-menu id="slowLoadingMenu" loading loading-delay="2000" opener="slowLoadingBtn">
                                <ui5-menu-item text="Slow loading item"></ui5-menu-item>
                            </ui5-menu>
                        </div>
                        <div class="test-instruction">Test instructions: Click buttons to see loading indicators with different delays</div>
                    </div>
                </div>
            </div>

            <div class="card border-start api-section blue-accent mb-4">
                <div class="card-body">
                    <h2 class="h6 fw-bold mb-3">Opener Property API</h2>
                    <div class="text-muted fst-italic mb-3">Using opener property to define the element that triggers menu opening</div>
                    <div class="bg-light rounded p-3">
                        <div class="d-flex flex-wrap gap-3 align-items-center" data-cy-acc-container-id="a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1d2">
                            <ui5-button id="opener1">Opener Button 1</ui5-button>
                            <ui5-button id="opener2">Opener Button 2</ui5-button>
                            
                            <ui5-menu id="openerMenu" opener="opener1">
                                <ui5-menu-item text="Opened from Button 1"></ui5-menu-item>
                                <ui5-menu-item text="Menu Item 2"></ui5-menu-item>
                            </ui5-menu>
                            
                            <ui5-button id="switchOpenerBtn">Switch Opener to Button 2</ui5-button>
                        </div>
                        <div class="test-instruction">Test instructions: Click Button 1 to open menu, then switch opener and try Button 2</div>
                    </div>
                </div>
            </div>

            <div class="card border-start api-section blue-accent mb-4">
                <div class="card-body">
                    <h2 class="h6 fw-bold mb-3">Items Slot API</h2>
                    <div class="text-muted fst-italic mb-3">Using items slot to define menu content with MenuItems and MenuSeparators</div>
                    <div class="bg-light rounded p-3">
                        <div class="d-flex flex-wrap gap-3 align-items-center" data-cy-acc-container-id="b8c9d0e1f2a3b4c5d6e7f8a9b0c1d2e3">
                            <ui5-button id="itemsBtn">Complex Menu</ui5-button>
                            <ui5-menu id="itemsMenu" opener="itemsBtn">
                                <ui5-menu-item text="File Operations">
                                    <ui5-menu-item text="New" icon="add"></ui5-menu-item>
                                    <ui5-menu-item text="Open"></ui5-menu-item>
                                    <ui5-menu-item text="Save" icon="save"></ui5-menu-item>
                                </ui5-menu-item>
                                <ui5-menu-separator></ui5-menu-separator>
                                <ui5-menu-item text="Edit Operations">
                                    <ui5-menu-item text="Copy" icon="copy"></ui5-menu-item>
                                    <ui5-menu-item text="Paste" icon="paste"></ui5-menu-item>
                                </ui5-menu-item>
                                <ui5-menu-separator></ui5-menu-separator>
                                <ui5-menu-item text="Print" icon="print"></ui5-menu-item>
                                <ui5-menu-item text="Export"></ui5-menu-item>
                            </ui5-menu>
                        </div>
                        <div class="test-instruction">Test instructions: Click to open menu with nested items and separators</div>
                    </div>
                </div>
            </div>

            <div class="card border-start api-section blue-accent mb-4">
                <div class="card-body">
                    <h2 class="h6 fw-bold mb-3">Item-Click Event API</h2>
                    <div class="text-muted fst-italic mb-3">Using item-click event to handle menu item selection</div>
                    <div class="bg-light rounded p-3">
                        <div class="d-flex flex-wrap gap-3 align-items-center" data-cy-acc-container-id="c9d0e1f2a3b4c5d6e7f8a9b0c1d2e3f4">
                            <ui5-button id="clickEventBtn">Event Menu</ui5-button>
                            <ui5-menu id="clickEventMenu" opener="clickEventBtn">
                                <ui5-menu-item text="Click Event Item 1"></ui5-menu-item>
                                <ui5-menu-item text="Click Event Item 2"></ui5-menu-item>
                                <ui5-menu-item text="Click Event Item 3"></ui5-menu-item>
                            </ui5-menu>
                            <ui5-label id="clickOutput">No item clicked</ui5-label>
                        </div>
                        <div class="test-instruction">Test instructions: Click menu items to see item-click events logged</div>
                    </div>
                </div>
            </div>

            <div class="card border-start api-section blue-accent mb-4">
                <div class="card-body">
                    <h2 class="h6 fw-bold mb-3">Before-Open Event API</h2>
                    <div class="text-muted fst-italic mb-3">Using before-open event to handle menu opening preparation and cancellation</div>
                    <div class="bg-light rounded p-3">
                        <div class="d-flex flex-wrap gap-3 align-items-center" data-cy-acc-container-id="d0e1f2a3b4c5d6e7f8a9b0c1d2e3f4a5">
                            <ui5-button id="beforeOpenBtn">Before-Open Menu</ui5-button>
                            <ui5-menu id="beforeOpenMenu" opener="beforeOpenBtn">
                                <ui5-menu-item text="Conditional Item 1"></ui5-menu-item>
                                <ui5-menu-item text="Conditional Item 2"></ui5-menu-item>
                            </ui5-menu>
                            <ui5-label id="beforeOpenOutput">Menu not opened yet</ui5-label>
                            <ui5-button id="togglePreventBtn">Toggle Prevention: OFF</ui5-button>
                        </div>
                        <div class="test-instruction">Test instructions: Toggle prevention and try opening menu to see before-open event handling</div>
                    </div>
                </div>
            </div>

            <div class="card border-start api-section blue-accent mb-4">
                <div class="card-body">
                    <h2 class="h6 fw-bold mb-3">Open Event API</h2>
                    <div class="text-muted fst-italic mb-3">Using open event to handle menu opened state</div>
                    <div class="bg-light rounded p-3">
                        <div class="d-flex flex-wrap gap-3 align-items-center" data-cy-acc-container-id="e1f2a3b4c5d6e7f8a9b0c1d2e3f4a5b6">
                            <ui5-button id="openEventBtn">Open Event Menu</ui5-button>
                            <ui5-menu id="openEventMenu" opener="openEventBtn">
                                <ui5-menu-item text="Open Event Item 1"></ui5-menu-item>
                                <ui5-menu-item text="Open Event Item 2"></ui5-menu-item>
                            </ui5-menu>
                            <ui5-label id="openEventOutput">Menu not opened</ui5-label>
                        </div>
                        <div class="test-instruction">Test instructions: Open menu to see open event triggered</div>
                    </div>
                </div>
            </div>

            <div class="card border-start api-section blue-accent mb-4">
                <div class="card-body">
                    <h2 class="h6 fw-bold mb-3">Before-Close Event API</h2>
                    <div class="text-muted fst-italic mb-3">Using before-close event to handle menu closing preparation and cancellation</div>
                    <div class="bg-light rounded p-3">
                        <div class="d-flex flex-wrap gap-3 align-items-center" data-cy-acc-container-id="f2a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7">
                            <ui5-button id="beforeCloseBtn">Before-Close Menu</ui5-button>
                            <ui5-menu id="beforeCloseMenu" opener="beforeCloseBtn">
                                <ui5-menu-item text="Close Event Item 1"></ui5-menu-item>
                                <ui5-menu-item text="Close Event Item 2"></ui5-menu-item>
                            </ui5-menu>
                            <ui5-label id="beforeCloseOutput">Menu not closed yet</ui5-label>
                            <ui5-button id="toggleClosePreventBtn">Toggle Close Prevention: OFF</ui5-button>
                        </div>
                        <div class="test-instruction">Test instructions: Open menu, toggle close prevention, then try closing with ESC or clicking outside</div>
                    </div>
                </div>
            </div>

            <div class="card border-start api-section blue-accent mb-4">
                <div class="card-body">
                    <h2 class="h6 fw-bold mb-3">Close Event API</h2>
                    <div class="text-muted fst-italic mb-3">Using close event to handle menu closed state</div>
                    <div class="bg-light rounded p-3">
                        <div class="d-flex flex-wrap gap-3 align-items-center" data-cy-acc-container-id="a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8">
                            <ui5-button id="closeEventBtn">Close Event Menu</ui5-button>
                            <ui5-menu id="closeEventMenu" opener="closeEventBtn">
                                <ui5-menu-item text="Close Event Item 1"></ui5-menu-item>
                                <ui5-menu-item text="Close Event Item 2"></ui5-menu-item>
                            </ui5-menu>
                            <ui5-label id="closeEventOutput">Menu not closed</ui5-label>
                        </div>
                        <div class="test-instruction">Test instructions: Open and close menu to see close event triggered</div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Menu open/close controls
        document.getElementById('toggleBtn').addEventListener('click', () => {
            const menu = document.getElementById('menu3');
            menu.open = !menu.open;
        });

        document.getElementById('openBtn').addEventListener('click', () => {
            document.getElementById('menu3').open = true;
        });

        document.getElementById('closeBtn').addEventListener('click', () => {
            document.getElementById('menu3').open = false;
        });

        // Monitor open status
        const menu3 = document.getElementById('menu3');
        const openStatus = document.getElementById('openStatus');
        
        const updateStatus = () => {
            openStatus.textContent = `Menu Status: ${menu3.open ? 'Open' : 'Closed'}`;
        };
        
        menu3.addEventListener('open', updateStatus);
        menu3.addEventListener('close', updateStatus);

        // Menu button click handlers
        document.getElementById('menuBtn1').addEventListener('click', () => {
            document.getElementById('menu1').open = true;
        });

        document.getElementById('menuBtn2').addEventListener('click', () => {
            document.getElementById('menu2').open = true;
        });

        document.getElementById('bottomBtn').addEventListener('click', () => {
            document.getElementById('bottomMenu').open = true;
        });

        document.getElementById('topBtn').addEventListener('click', () => {
            document.getElementById('topMenu').open = true;
        });

        document.getElementById('rightBtn').addEventListener('click', () => {
            document.getElementById('rightMenu').open = true;
        });

        document.getElementById('startBtn').addEventListener('click', () => {
            document.getElementById('startMenu').open = true;
        });

        document.getElementById('centerBtn').addEventListener('click', () => {
            document.getElementById('centerMenu').open = true;
        });

        document.getElementById('endBtn').addEventListener('click', () => {
            document.getElementById('endMenu').open = true;
        });

        document.getElementById('loadingBtn').addEventListener('click', () => {
            document.getElementById('loadingMenu').open = true;
        });

        document.getElementById('fastLoadingBtn').addEventListener('click', () => {
            document.getElementById('fastLoadingMenu').open = true;
        });

        document.getElementById('slowLoadingBtn').addEventListener('click', () => {
            document.getElementById('slowLoadingMenu').open = true;
        });

        // Loading toggle
        document.getElementById('toggleLoadingBtn').addEventListener('click', () => {
            const menu = document.getElementById('loadingMenu');
            menu.loading = !menu.loading;
        });

        // Opener switching
        document.getElementById('switchOpenerBtn').addEventListener('click', () => {
            const menu = document.getElementById('openerMenu');
            menu.opener = 'opener2';
        });

        document.getElementById('opener1').addEventListener('click', () => {
            document.getElementById('openerMenu').open = true;
        });

        document.getElementById('opener2').addEventListener('click', () => {
            document.getElementById('openerMenu').open = true;
        });

        document.getElementById('itemsBtn').addEventListener('click', () => {
            document.getElementById('itemsMenu').open = true;
        });

        // Event handlers
        document.getElementById('clickEventBtn').addEventListener('click', () => {
            document.getElementById('clickEventMenu').open = true;
        });

        document.getElementById('clickEventMenu').addEventListener('item-click', (event) => {
            const output = document.getElementById('clickOutput');
            output.textContent = `Clicked: ${event.detail.text}`;
            console.log('Menu item clicked:', event.detail);
        });

        // Before-open event handling
        let preventOpen = false;
        document.getElementById('beforeOpenBtn').addEventListener('click', () => {
            document.getElementById('beforeOpenMenu').open = true;
        });

        document.getElementById('togglePreventBtn').addEventListener('click', () => {
            preventOpen = !preventOpen;
            document.getElementById('togglePreventBtn').textContent = `Toggle Prevention: ${preventOpen ? 'ON' : 'OFF'}`;
        });

        document.getElementById('beforeOpenMenu').addEventListener('before-open', (event) => {
            const output = document.getElementById('beforeOpenOutput');
            output.textContent = `Before-open event triggered, prevention: ${preventOpen}`;
            
            if (preventOpen) {
                event.preventDefault();
                output.textContent += ' - Opening prevented!';
            }
            console.log('Before-open event:', event.detail);
        });

        // Open event handling
        document.getElementById('openEventBtn').addEventListener('click', () => {
            document.getElementById('openEventMenu').open = true;
        });

        document.getElementById('openEventMenu').addEventListener('open', (event) => {
            const output = document.getElementById('openEventOutput');
            output.textContent = 'Menu opened successfully';
            console.log('Menu open event:', event);
        });

        // Before-close event handling
        let preventClose = false;
        document.getElementById('beforeCloseBtn').addEventListener('click', () => {
            document.getElementById('beforeCloseMenu').open = true;
        });

        document.getElementById('toggleClosePreventBtn').addEventListener('click', () => {
            preventClose = !preventClose;
            document.getElementById('toggleClosePreventBtn').textContent = `Toggle Close Prevention: ${preventClose ? 'ON' : 'OFF'}`;
        });

        document.getElementById('beforeCloseMenu').addEventListener('before-close', (event) => {
            const output = document.getElementById('beforeCloseOutput');
            output.textContent = `Before-close event (ESC: ${event.detail.escPressed}), prevention: ${preventClose}`;
            
            if (preventClose) {
                event.preventDefault();
                output.textContent += ' - Closing prevented!';
            }
            console.log('Before-close event:', event.detail);
        });

        // Close event handling
        document.getElementById('closeEventBtn').addEventListener('click', () => {
            document.getElementById('closeEventMenu').open = true;
        });

        document.getElementById('closeEventMenu').addEventListener('close', (event) => {
            const output = document.getElementById('closeEventOutput');
            output.textContent = 'Menu closed successfully';
            console.log('Menu close event:', event);
        });
    </script>
    
    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>