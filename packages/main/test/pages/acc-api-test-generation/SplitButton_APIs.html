<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>UI5 SplitButton API Samples</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <script type="importmap">
      {
        "imports": {
          "@ui5/webcomponents/": "https://cdn.jsdelivr.net/npm/@ui5/webcomponents@2.15.0-rc.0/",
          "@ui5/webcomponents-ai/": "https://cdn.jsdelivr.net/npm/@ui5/webcomponents-ai@2.15.0-rc.0/",
          "@ui5/webcomponents-fiori/": "https://cdn.jsdelivr.net/npm/@ui5/webcomponents-fiori@2.15.0-rc.0/",
          "@ui5/webcomponents-compat/": "https://cdn.jsdelivr.net/npm/@ui5/webcomponents-compat@2.15.0-rc.0/",
          "@ui5/webcomponents-base/jsx-runtime": "https://cdn.jsdelivr.net/npm/@ui5/webcomponents-base@2.15.0-rc.0/dist/jsx-runtime.js",
          "@ui5/webcomponents-base/": "https://cdn.jsdelivr.net/npm/@ui5/webcomponents-base@2.15.0-rc.0/",
          "@ui5/webcomponents-icons/": "https://cdn.jsdelivr.net/npm/@ui5/webcomponents-icons@2.15.0-rc.0/",
          "@ui5/webcomponents-localization/": "https://cdn.jsdelivr.net/npm/@ui5/webcomponents-localization@2.15.0-rc.0/",
          "@ui5/webcomponents-theming/": "https://cdn.jsdelivr.net/npm/@ui5/webcomponents-theming@2.15.0-rc.0/",
          "lit-html": "https://cdn.jsdelivr.net/npm/lit-html@2",
          "lit-html/": "https://cdn.jsdelivr.net/npm/lit-html@2/",
          "@zxing/library/": "https://cdn.jsdelivr.net/npm/@zxing/library@0/"
        }
      }
    </script>
    
    <script type="module">
        import "@ui5/webcomponents/dist/SplitButton.js";
        import "@ui5/webcomponents/dist/Label.js";
        import "@ui5/webcomponents-icons/dist/save.js";
        import "@ui5/webcomponents-icons/dist/print.js";
        import "@ui5/webcomponents-icons/dist/edit.js";
        import "@ui5/webcomponents-icons/dist/copy.js";
        import "@ui5/webcomponents-icons/dist/paste.js";
        import "@ui5/webcomponents-icons/dist/add.js";
        import "@ui5/webcomponents-icons/dist/delete.js";
        import "@ui5/webcomponents-icons/dist/download.js";
        import "@ui5/webcomponents-icons/dist/upload.js";
        import "@ui5/webcomponents-icons/dist/settings.js";
    </script>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <!-- Custom CSS for API-specific styling -->
    <style>
        .api-section {
            border-left-width: 3px;
        }
        
        .api-section.blue-accent {
            border-left-color: #0d6efd;
        }
        
        .test-instruction {
            font-size: 0.75rem;
            color: darkred;
            font-weight: 500;
        }
    </style>
</head>
<body>
    <main role="main" aria-label="SplitButton API test samples">
        <div class="container-fluid py-4">
            <h1 class="display-5 text-dark mb-4">UI5 SplitButton Component API Samples</h1>

            <div class="card border-start api-section blue-accent mb-4">
                <div class="card-body">
                    <h2 class="h6 fw-bold mb-3">Icon Property API</h2>
                    <div class="text-muted fst-italic mb-3">Using icon property to display SAP icons in the default button</div>
                    <div class="bg-light rounded p-3">
                        <div class="d-flex flex-wrap gap-3 align-items-center" data-cy-acc-container-id="a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6">
                            <ui5-split-button icon="save">Save Document</ui5-split-button>
                            <ui5-split-button icon="print">Print</ui5-split-button>
                            <ui5-split-button icon="edit">Edit</ui5-split-button>
                            <ui5-split-button icon="copy">Copy</ui5-split-button>
                            <ui5-split-button icon="add">New Item</ui5-split-button>
                        </div>
                        <div class="test-instruction">Test instructions: Click main button or arrow to see different actions</div>
                    </div>
                </div>
            </div>

            <div class="card border-start api-section blue-accent mb-4">
                <div class="card-body">
                    <h2 class="h6 fw-bold mb-3">ActiveArrowButton Property API</h2>
                    <div class="text-muted fst-italic mb-3">Using activeArrowButton property to control arrow button active styling</div>
                    <div class="bg-light rounded p-3">
                        <div class="d-flex flex-wrap gap-3 align-items-center" data-cy-acc-container-id="b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7">
                            <ui5-split-button icon="save">Normal Arrow</ui5-split-button>
                            <ui5-split-button icon="print" active-arrow-button>Active Arrow</ui5-split-button>
                            <ui5-split-button id="toggleArrowBtn" icon="edit">Toggle Arrow</ui5-split-button>
                            <button onclick="toggleArrowActive()">Toggle Arrow State</button>
                        </div>
                        <div class="test-instruction">Test instructions: Compare normal vs active arrow styling, use toggle button</div>
                    </div>
                </div>
            </div>

            <div class="card border-start api-section blue-accent mb-4">
                <div class="card-body">
                    <h2 class="h6 fw-bold mb-3">Design Property API</h2>
                    <div class="text-muted fst-italic mb-3">Using design property to control visual appearance with different button designs</div>
                    <div class="bg-light rounded p-3">
                        <div class="d-flex flex-wrap gap-3 align-items-center" data-cy-acc-container-id="c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8">
                            <ui5-split-button design="Default" icon="save">Default</ui5-split-button>
                            <ui5-split-button design="Emphasized" icon="save">Emphasized</ui5-split-button>
                            <ui5-split-button design="Positive" icon="save">Positive</ui5-split-button>
                            <ui5-split-button design="Negative" icon="delete">Negative</ui5-split-button>
                            <ui5-split-button design="Transparent" icon="edit">Transparent</ui5-split-button>
                            <ui5-split-button design="Attention" icon="settings">Attention</ui5-split-button>
                        </div>
                        <div class="test-instruction">Test instructions: Compare different visual designs for various use cases</div>
                    </div>
                </div>
            </div>

            <div class="card border-start api-section blue-accent mb-4">
                <div class="card-body">
                    <h2 class="h6 fw-bold mb-3">Disabled Property API</h2>
                    <div class="text-muted fst-italic mb-3">Using disabled property to make split button noninteractive</div>
                    <div class="bg-light rounded p-3">
                        <div class="d-flex flex-wrap gap-3 align-items-center" data-cy-acc-container-id="d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9">
                            <ui5-split-button icon="save">Enabled Button</ui5-split-button>
                            <ui5-split-button icon="save" disabled>Disabled Button</ui5-split-button>
                            <ui5-split-button icon="print" design="Emphasized" disabled>Disabled Emphasized</ui5-split-button>
                            <ui5-split-button id="disableToggleBtn" icon="edit">Toggle Disabled</ui5-split-button>
                            <button onclick="toggleDisabled()">Toggle Disabled State</button>
                        </div>
                        <div class="test-instruction">Test instructions: Try clicking disabled buttons - they should not respond</div>
                    </div>
                </div>
            </div>

            <div class="card border-start api-section blue-accent mb-4">
                <div class="card-body">
                    <h2 class="h6 fw-bold mb-3">AccessibleName Property API</h2>
                    <div class="text-muted fst-italic mb-3">Using accessibleName property to provide ARIA label for screen readers</div>
                    <div class="bg-light rounded p-3">
                        <div class="d-flex flex-wrap gap-3 align-items-center" data-cy-acc-container-id="e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0">
                            <ui5-split-button icon="save" accessible-name="Save document with options">Save</ui5-split-button>
                            <ui5-split-button icon="print" accessible-name="Print document with settings">Print</ui5-split-button>
                            <ui5-split-button icon="download" accessible-name="Download file with format options">Download</ui5-split-button>
                            <ui5-split-button icon="upload" accessible-name="Upload file with destination options">Upload</ui5-split-button>
                        </div>
                        <div class="test-instruction">Test instructions: Use screen reader to hear descriptive accessible names</div>
                    </div>
                </div>
            </div>

            <div class="card border-start api-section blue-accent mb-4">
                <div class="card-body">
                    <h2 class="h6 fw-bold mb-3">AccessibilityAttributes Property API</h2>
                    <div class="text-muted fst-italic mb-3">Using accessibilityAttributes property to define advanced ARIA attributes</div>
                    <div class="bg-light rounded p-3">
                        <div class="d-flex flex-wrap gap-3 align-items-center" data-cy-acc-container-id="f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1">
                            <ui5-split-button id="menuSplitBtn" icon="save">Save Menu</ui5-split-button>
                            <ui5-split-button id="dialogSplitBtn" icon="settings">Settings Dialog</ui5-split-button>
                            <ui5-split-button id="listboxSplitBtn" icon="copy">Copy Options</ui5-split-button>
                        </div>
                        <div class="test-instruction">Test instructions: Screen reader should announce popup types and ARIA attributes</div>
                    </div>
                </div>
            </div>

            <div class="card border-start api-section blue-accent mb-4">
                <div class="card-body">
                    <h2 class="h6 fw-bold mb-3">Text Slot API</h2>
                    <div class="text-muted fst-italic mb-3">Using text slot to define button content with various text lengths and formats</div>
                    <div class="bg-light rounded p-3">
                        <div class="d-flex flex-column gap-3" data-cy-acc-container-id="a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1d2">
                            <div class="d-flex flex-wrap gap-3 align-items-center">
                                <ui5-split-button icon="save">Save</ui5-split-button>
                                <ui5-split-button icon="print">Print Document</ui5-split-button>
                                <ui5-split-button icon="edit">Edit with Advanced Options</ui5-split-button>
                            </div>
                            
                            <div class="d-flex flex-wrap gap-3 align-items-center">
                                <ui5-split-button>Text Only Button</ui5-split-button>
                                <ui5-split-button icon="add"></ui5-split-button>
                                <ui5-split-button icon="copy">Copy & Paste Operations</ui5-split-button>
                            </div>
                            
                            <div class="d-flex flex-wrap gap-3 align-items-center">
                                <ui5-split-button icon="save">Save As... (Ctrl+Shift+S)</ui5-split-button>
                                <ui5-split-button icon="download">Download (Multiple Formats)</ui5-split-button>
                            </div>
                        </div>
                        <div class="test-instruction">Test instructions: Observe different text lengths and icon combinations</div>
                    </div>
                </div>
            </div>

            <div class="card border-start api-section blue-accent mb-4">
                <div class="card-body">
                    <h2 class="h6 fw-bold mb-3">Click Event API</h2>
                    <div class="text-muted fst-italic mb-3">Using click event to handle default button activation</div>
                    <div class="bg-light rounded p-3">
                        <div class="d-flex flex-wrap gap-3 align-items-center" data-cy-acc-container-id="b8c9d0e1f2a3b4c5d6e7f8a9b0c1d2e3">
                            <ui5-split-button id="clickEventBtn" icon="save">Save Document</ui5-split-button>
                            <ui5-split-button id="clickEventBtn2" icon="print">Print Page</ui5-split-button>
                            <ui5-split-button id="clickEventBtn3" icon="edit">Edit Content</ui5-split-button>
                            <ui5-label id="clickOutput">No default actions triggered</ui5-label>
                        </div>
                        <div class="test-instruction">Test instructions: Click main buttons to see click events logged</div>
                    </div>
                </div>
            </div>

            <div class="card border-start api-section blue-accent mb-4">
                <div class="card-body">
                    <h2 class="h6 fw-bold mb-3">Arrow-Click Event API</h2>
                    <div class="text-muted fst-italic mb-3">Using arrow-click event to handle arrow button activation</div>
                    <div class="bg-light rounded p-3">
                        <div class="d-flex flex-wrap gap-3 align-items-center" data-cy-acc-container-id="c9d0e1f2a3b4c5d6e7f8a9b0c1d2e3f4">
                            <ui5-split-button id="arrowEventBtn" icon="save">Save Options</ui5-split-button>
                            <ui5-split-button id="arrowEventBtn2" icon="copy">Copy Menu</ui5-split-button>
                            <ui5-split-button id="arrowEventBtn3" icon="download">Download Menu</ui5-split-button>
                            <ui5-label id="arrowOutput">No arrow actions triggered</ui5-label>
                        </div>
                        <div class="test-instruction">Test instructions: Click arrow buttons to see arrow-click events logged</div>
                    </div>
                </div>
            </div>

            <div class="card border-start api-section blue-accent mb-4">
                <div class="card-body">
                    <h2 class="h6 fw-bold mb-3">Keyboard Navigation API</h2>
                    <div class="text-muted fst-italic mb-3">Testing keyboard interaction patterns for split button activation</div>
                    <div class="bg-light rounded p-3">
                        <div class="d-flex flex-column gap-3" data-cy-acc-container-id="d0e1f2a3b4c5d6e7f8a9b0c1d2e3f4a5">
                            <div class="d-flex flex-wrap gap-3 align-items-center">
                                <ui5-label>Keyboard test buttons:</ui5-label>
                                <ui5-split-button id="keyboardBtn1" icon="save">Space/Enter for default</ui5-split-button>
                                <ui5-split-button id="keyboardBtn2" icon="edit">Arrow keys for menu</ui5-split-button>
                            </div>
                            
                            <ui5-label id="keyboardOutput">No keyboard events</ui5-label>
                        </div>
                        <div class="test-instruction">Test instructions: Focus buttons, use Space/Enter for default action, Arrow Up/Down or F4 for arrow action</div>
                    </div>
                </div>
            </div>

            <div class="card border-start api-section blue-accent mb-4">
                <div class="card-body">
                    <h2 class="h6 fw-bold mb-3">Design Variations API</h2>
                    <div class="text-muted fst-italic mb-3">Comprehensive design variations with different use case scenarios</div>
                    <div class="bg-light rounded p-3">
                        <div class="d-flex flex-column gap-3" data-cy-acc-container-id="e1f2a3b4c5d6e7f8a9b0c1d2e3f4a5b6">
                            <div class="d-flex flex-wrap gap-3 align-items-center">
                                <ui5-label>File operations:</ui5-label>
                                <ui5-split-button design="Emphasized" icon="save">Save</ui5-split-button>
                                <ui5-split-button design="Default" icon="upload">Upload</ui5-split-button>
                                <ui5-split-button design="Transparent" icon="edit">Edit</ui5-split-button>
                            </div>
                            
                            <div class="d-flex flex-wrap gap-3 align-items-center">
                                <ui5-label>Action feedback:</ui5-label>
                                <ui5-split-button design="Positive" icon="save">Confirm Save</ui5-split-button>
                                <ui5-split-button design="Negative" icon="delete">Delete Item</ui5-split-button>
                                <ui5-split-button design="Attention" icon="settings">Important Settings</ui5-split-button>
                            </div>
                            
                            <div class="d-flex flex-wrap gap-3 align-items-center">
                                <ui5-label>Disabled states:</ui5-label>
                                <ui5-split-button design="Emphasized" icon="save" disabled>Cannot Save</ui5-split-button>
                                <ui5-split-button design="Negative" icon="delete" disabled>Cannot Delete</ui5-split-button>
                            </div>
                        </div>
                        <div class="test-instruction">Test instructions: Compare different design patterns for various use cases</div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Toggle arrow button active state
        function toggleArrowActive() {
            const btn = document.getElementById('toggleArrowBtn');
            btn.activeArrowButton = !btn.activeArrowButton;
        }

        // Toggle disabled state
        function toggleDisabled() {
            const btn = document.getElementById('disableToggleBtn');
            btn.disabled = !btn.disabled;
        }

        // Set up accessibility attributes
        document.addEventListener('DOMContentLoaded', () => {
            const menuSplitBtn = document.getElementById('menuSplitBtn');
            const dialogSplitBtn = document.getElementById('dialogSplitBtn');
            const listboxSplitBtn = document.getElementById('listboxSplitBtn');

            if (menuSplitBtn) {
                menuSplitBtn.accessibilityAttributes = {
                    root: {
                        hasPopup: "menu",
                        roleDescription: "split button with save menu",
                        ariaKeyShortcuts: "Ctrl+S"
                    },
                    arrowButton: {
                        hasPopup: "menu",
                        expanded: false
                    }
                };
            }

            if (dialogSplitBtn) {
                dialogSplitBtn.accessibilityAttributes = {
                    root: {
                        hasPopup: "dialog",
                        roleDescription: "split button with settings dialog"
                    },
                    arrowButton: {
                        hasPopup: "dialog",
                        expanded: false
                    }
                };
            }

            if (listboxSplitBtn) {
                listboxSplitBtn.accessibilityAttributes = {
                    root: {
                        hasPopup: "listbox",
                        roleDescription: "split button with copy options"
                    },
                    arrowButton: {
                        hasPopup: "listbox",
                        expanded: false
                    }
                };
            }
        });

        // Click event handlers
        const clickEventButtons = ['clickEventBtn', 'clickEventBtn2', 'clickEventBtn3'];
        clickEventButtons.forEach(btnId => {
            const btn = document.getElementById(btnId);
            if (btn) {
                btn.addEventListener('click', (event) => {
                    const output = document.getElementById('clickOutput');
                    output.textContent = `Default action: ${btn.textContent.trim()} clicked`;
                    console.log(`SplitButton click event: ${btn.textContent.trim()}`);
                });
            }
        });

        // Arrow-click event handlers
        const arrowEventButtons = ['arrowEventBtn', 'arrowEventBtn2', 'arrowEventBtn3'];
        arrowEventButtons.forEach(btnId => {
            const btn = document.getElementById(btnId);
            if (btn) {
                btn.addEventListener('arrow-click', (event) => {
                    const output = document.getElementById('arrowOutput');
                    output.textContent = `Arrow action: ${btn.textContent.trim()} arrow clicked`;
                    console.log(`SplitButton arrow-click event: ${btn.textContent.trim()}`);
                });
            }
        });

        // Keyboard event handlers
        const keyboardButtons = ['keyboardBtn1', 'keyboardBtn2'];
        keyboardButtons.forEach(btnId => {
            const btn = document.getElementById(btnId);
            if (btn) {
                btn.addEventListener('click', (event) => {
                    const output = document.getElementById('keyboardOutput');
                    output.textContent = `Keyboard default action: ${btn.textContent.trim()}`;
                });

                btn.addEventListener('arrow-click', (event) => {
                    const output = document.getElementById('keyboardOutput');
                    output.textContent = `Keyboard arrow action: ${btn.textContent.trim()}`;
                });
            }
        });

        // Universal event logging for all split buttons
        const allSplitButtons = document.querySelectorAll('ui5-split-button');
        allSplitButtons.forEach((btn, index) => {
            btn.addEventListener('click', (event) => {
                console.log(`SplitButton ${index} default action triggered`);
            });

            btn.addEventListener('arrow-click', (event) => {
                console.log(`SplitButton ${index} arrow action triggered`);
            });
        });
    </script>
    
    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>